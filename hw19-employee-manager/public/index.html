<!DOCTYPE html>
<html lang="he" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <title>ניהול עובדים - שיעורי בית 19</title>

    <!-- Bootstrap 5 -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body class="bg-light">
    <div class="container py-4">
      <h1 class="text-center mb-4 text-primary">
        ניהול עובדים (MongoDB Atlas)
      </h1>

      <!-- טופס הוספת / עדכון עובד -->
      <div class="card mb-4">
        <div class="card-header bg-primary text-white">הוספת / עדכון עובד</div>
        <div class="card-body">
          <div class="row g-3">
            <div class="col-md-3">
              <label class="form-label">שם</label>
              <input id="name" class="form-control" />
            </div>
            <div class="col-md-3">
              <label class="form-label">מחלקה</label>
              <input id="department" class="form-control" />
            </div>
            <div class="col-md-3">
              <label class="form-label">גיל</label>
              <input id="age" type="number" class="form-control" />
            </div>
            <div class="col-md-3">
              <label class="form-label">שכר</label>
              <input id="salary" type="number" class="form-control" />
            </div>
          </div>

          <input type="hidden" id="editId" />

          <div class="row mt-3">
            <div class="col-md-6">
              <button
                id="saveBtn"
                type="button"
                class="btn btn-success w-100"
                onclick="saveEmployee()"
              >
                הוסף עובד
              </button>
            </div>
            <div class="col-md-6">
              <button
                id="cancelEditBtn"
                type="button"
                class="btn btn-secondary w-100 d-none"
                onclick="cancelEdit()"
              >
                ביטול עריכה
              </button>
            </div>
          </div>

          <p id="editStatus" class="text-danger mt-2 mb-0"></p>
        </div>
      </div>

      <!-- מחיקת עובדים מעל גיל -->
      <div class="card mb-4">
        <div class="card-header">מחיקת עובדים מעל גיל</div>
        <div class="card-body">
          <div class="row g-3 align-items-end">
            <div class="col-md-4">
              <label class="form-label">גיל</label>
              <input id="ageDel" type="number" class="form-control" />
            </div>
            <div class="col-md-4">
              <button
                type="button"
                class="btn btn-danger w-100"
                onclick="deleteByAge()"
              >
                מחק עובדים מעל גיל זה
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- שינוי שם מחלקה -->
      <div class="card mb-4">
        <div class="card-header">שינוי שם מחלקה</div>
        <div class="card-body">
          <div class="row g-3">
            <div class="col-md-4">
              <label class="form-label">שם מחלקה ישן</label>
              <input id="oldDept" class="form-control" />
            </div>
            <div class="col-md-4">
              <label class="form-label">שם מחלקה חדש</label>
              <input id="newDept" class="form-control" />
            </div>
            <div class="col-md-4 d-flex align-items-end">
              <button
                type="button"
                class="btn btn-warning w-100"
                onclick="changeDept()"
              >
                עדכן שם מחלקה
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- טבלת עובדים -->
      <div class="card">
        <div class="card-header bg-info text-white">
          רשימת עובדים (כולל מחיקה ועריכה)
        </div>
        <div class="card-body">
          <table class="table table-striped table-hover align-middle">
            <thead class="table-light">
              <tr>
                <th>שם</th>
                <th>מחלקה</th>
                <th>גיל</th>
                <th>שכר</th>
                <th class="text-center">פעולות</th>
              </tr>
            </thead>
            <tbody id="employeesTableBody"></tbody>
          </table>

          <p id="noEmployeesMsg" class="text-muted mb-0 d-none">
            עדיין אין עובדים במערכת.
          </p>
        </div>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
